{"ast":null,"code":"var _jsxFileName = \"/Users/rahmimuaz/Documents/GitHub/Evolexx/client/src/pages/Login/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useUser } from '../../context/UserContext';\nimport './Login.css';\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst Login = ({\n  asModal = false,\n  onSuccess,\n  onSwitchRegister\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const {\n    login\n  } = useUser();\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      await login(email, password);\n      if (onSuccess) onSuccess();else navigate('/');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed');\n    }\n  };\n  const clientId = '235074436580-tqrft13a5lddfr16sq1qth0quficpu5k.apps.googleusercontent.com';\n  const handleGoogleSuccess = async credentialResponse => {\n    try {\n      const res = await axios.post(`${API_BASE_URL}/api/users/google-login`, {\n        token: credentialResponse.credential\n      });\n      localStorage.setItem('userInfo', JSON.stringify(res.data));\n      if (onSuccess) onSuccess();else navigate('/');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Google login failed');\n    }\n  };\n  const LoginForm = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"login-title\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"form-label\",\n          children: \"Email Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          className: \"form-input\",\n          placeholder: \"Enter email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group password\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          className: \"form-input password-input\",\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"login-button\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '16px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        onSuccess: handleGoogleSuccess,\n        onError: () => alert('Google Login Failed')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: clientId,\n    children: asModal ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [LoginForm(), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"register-text\",\n        children: [\"New Customer?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"register-link\",\n          style: {\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            padding: 0\n          },\n          onClick: onSwitchRegister,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-page-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-card\",\n        children: [LoginForm(), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-text\",\n          children: [\"New Customer? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            className: \"register-link\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"Qv31GDciZD1uV3BSgdOVPiWEJ9U=\", false, function () {\n  return [useNavigate, useUser];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useNavigate","useUser","GoogleOAuthProvider","GoogleLogin","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","Login","asModal","onSuccess","onSwitchRegister","_s","email","setEmail","password","setPassword","navigate","login","submitHandler","e","preventDefault","error","_error$response","_error$response$data","alert","response","data","message","clientId","handleGoogleSuccess","credentialResponse","res","post","token","credential","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","LoginForm","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","required","style","margin","onError","background","border","cursor","padding","onClick","to","_c","$RefreshReg$"],"sources":["/Users/rahmimuaz/Documents/GitHub/Evolexx/client/src/pages/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useUser } from '../../context/UserContext';\nimport './Login.css';\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\n\nconst Login = ({ asModal = false, onSuccess, onSwitchRegister }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const { login } = useUser();\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      await login(email, password);\n      if (onSuccess) onSuccess();\n      else navigate('/');\n    } catch (error) {\n      alert(error?.response?.data?.message || 'Login failed');\n    }\n  };\n\n  const clientId = '235074436580-tqrft13a5lddfr16sq1qth0quficpu5k.apps.googleusercontent.com';\n\n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      const res = await axios.post(`${API_BASE_URL}/api/users/google-login`, {\n        token: credentialResponse.credential,\n      });\n\n      localStorage.setItem('userInfo', JSON.stringify(res.data));\n      if (onSuccess) onSuccess();\n      else navigate('/');\n    } catch (err) {\n      alert(err?.response?.data?.message || 'Google login failed');\n    }\n  };\n\n  const LoginForm = () => (\n    <>\n      <h2 className=\"login-title\">Login</h2>\n      <form onSubmit={submitHandler}>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            className=\"form-input\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </div>\n        <div className=\"form-group password\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"form-input password-input\"\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"login-button\">Login</button>\n      </form>\n      <div style={{ margin: '16px 0' }}>\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={() => alert('Google Login Failed')}\n        />\n      </div>\n    </>\n  );\n\n  return (\n    <GoogleOAuthProvider clientId={clientId}>\n      {asModal ? (\n        <div>\n          {LoginForm()}\n          <p className=\"register-text\">\n            New Customer?{' '}\n            <button\n              type=\"button\"\n              className=\"register-link\"\n              style={{ background: 'none', border: 'none', cursor: 'pointer', padding: 0 }}\n              onClick={onSwitchRegister}\n            >\n              Register\n            </button>\n          </p>\n        </div>\n      ) : (\n        <div className=\"login-page-container\">\n          <div className=\"login-card\">\n            {LoginForm()}\n            <p className=\"register-text\">\n              New Customer? <Link to=\"/register\" className=\"register-link\">Register</Link>\n            </p>\n          </div>\n        </div>\n      )}\n    </GoogleOAuthProvider>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}