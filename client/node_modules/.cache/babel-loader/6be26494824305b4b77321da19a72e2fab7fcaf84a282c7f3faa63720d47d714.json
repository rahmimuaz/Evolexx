{"ast":null,"code":"var _jsxFileName = \"/Users/rahmimuaz/Documents/GitHub/Evolexx/client/src/pages/Home/Homepage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Homepage.css';\nimport axios from 'axios';\nimport { FaShippingFast, FaRedoAlt, FaSlidersH } from 'react-icons/fa';\nimport { HiShieldCheck } from 'react-icons/hi';\nimport Footer from '../../components/Footer/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst Homepage = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [animationDirection, setAnimationDirection] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const productsPerPage = 12;\n  const productSectionRef = useRef(null);\n  const headingRef = useRef(null);\n  const originalBannerImages = ['/banner1.jpg', '/banner2.jpg', '/banner3.jpg'];\n  const bannerImages = [...originalBannerImages, originalBannerImages[0]];\n  const [currentBannerIndex, setCurrentBannerIndex] = useState(0);\n  const [isTransitioning, setIsTransitioning] = useState(true);\n  const sortOptions = [{\n    value: 'price-asc',\n    label: 'Price: Low to High'\n  }, {\n    value: 'price-desc',\n    label: 'Price: High to Low'\n  }, {\n    value: 'newest',\n    label: 'Newest'\n  }, {\n    value: 'oldest',\n    label: 'Oldest'\n  }];\n  const [sort, setSort] = useState('price-asc');\n  const [priceRange, setPriceRange] = useState([0, 1000000]);\n  const [brandFilter, setBrandFilter] = useState('');\n  const [inStockOnly, setInStockOnly] = useState(false);\n  useEffect(() => {\n    fetchProducts();\n    const bannerInterval = setInterval(() => {\n      setIsTransitioning(true);\n      setCurrentBannerIndex(prevIndex => prevIndex === bannerImages.length - 1 ? 0 : prevIndex + 1);\n    }, 4000);\n    const transitionEndHandler = () => {\n      if (!isTransitioning && currentBannerIndex === 0) {\n        setTimeout(() => setIsTransitioning(true), 50);\n      }\n    };\n    const bannerSlider = document.querySelector('.banner-slider');\n    if (bannerSlider) {\n      bannerSlider.addEventListener('transitionend', transitionEndHandler);\n    }\n    return () => {\n      clearInterval(bannerInterval);\n      if (bannerSlider) {\n        bannerSlider.removeEventListener('transitionend', transitionEndHandler);\n      }\n    };\n  }, [bannerImages.length, isTransitioning, currentBannerIndex]);\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  useEffect(() => {\n    if (products.length > 0) {\n      const prices = products.map(p => p.price || 0);\n      setPriceRange([Math.min(...prices), Math.max(...prices)]);\n    }\n  }, [products]);\n  const fetchProducts = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/products`);\n      setProducts(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setError('Error fetching products. Please try again later.');\n      setLoading(false);\n    }\n  };\n  const generateImageUrl = product => {\n    if (product.images && product.images.length > 0) {\n      const image = product.images[0];\n      if (image.startsWith('http')) return image;\n      if (image.startsWith('/uploads/')) return `${API_BASE_URL}${image}`;\n      if (image.startsWith('uploads/')) return `${API_BASE_URL}/${image}`;\n      return `${API_BASE_URL}/uploads/${image.replace(/^\\//, '')}`;\n    }\n    return '/logo192.png';\n  };\n  const allBrands = Array.from(new Set(products.map(p => {\n    var _p$details;\n    return (_p$details = p.details) === null || _p$details === void 0 ? void 0 : _p$details.brand;\n  }).filter(Boolean)));\n  const filteredProducts = products.filter(product => {\n    var _product$details;\n    const price = product.price || 0;\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesBrand = !brandFilter || ((_product$details = product.details) === null || _product$details === void 0 ? void 0 : _product$details.brand) === brandFilter;\n    const matchesStock = !inStockOnly || product.stock && product.stock > 0;\n    return matchesPrice && matchesBrand && matchesStock;\n  });\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sort === 'price-asc') return (a.price || 0) - (b.price || 0);\n    if (sort === 'price-desc') return (b.price || 0) - (a.price || 0);\n    if (sort === 'newest') return new Date(b.createdAt) - new Date(a.createdAt);\n    if (sort === 'oldest') return new Date(a.createdAt) - new Date(b.createdAt);\n    return 0;\n  });\n  const indexOfLastProduct = currentPage * productsPerPage;\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n  const currentProducts = sortedProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n  const totalPages = Math.ceil(sortedProducts.length / productsPerPage);\n  const handlePageChange = pageNumber => {\n    if (pageNumber >= 1 && pageNumber <= totalPages && pageNumber !== currentPage) {\n      const direction = pageNumber > currentPage ? 'slide-left' : 'slide-right';\n      setAnimationDirection(direction);\n      setTimeout(() => {\n        setCurrentPage(pageNumber);\n        setAnimationDirection('');\n        if (headingRef.current) {\n          const topPos = headingRef.current.getBoundingClientRect().top + window.pageYOffset;\n          const offset = 80;\n          window.scrollTo({\n            top: topPos - offset,\n            behavior: 'smooth'\n          });\n        }\n      }, 400);\n    }\n  };\n  const handleBrandChange = event => {\n    const selectedBrand = event.target.value;\n    setBrandFilter(selectedBrand);\n    setCurrentPage(1);\n  };\n  const handlePriceChange = (e, idx) => {\n    const val = Number(e.target.value);\n    setPriceRange(pr => idx === 0 ? [val, pr[1]] : [pr[0], val]);\n    setCurrentPage(1);\n  };\n  const handleSortChange = e => {\n    setSort(e.target.value);\n    setCurrentPage(1);\n  };\n  const handleStockChange = e => {\n    setInStockOnly(e.target.checked);\n    setCurrentPage(1);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loader\",\n    children: \"Loading products...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"banner\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner-slider\",\n        style: {\n          transform: `translateX(-${currentBannerIndex * 100}%)`,\n          transition: isTransitioning ? 'transform 1s ease-in-out' : 'none'\n        },\n        children: bannerImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: `Hero Banner ${index + 1}`,\n          className: \"banner-image\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"features\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feature\",\n        children: [/*#__PURE__*/_jsxDEV(FaShippingFast, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feature-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Fast & Free Shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 82\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Every single order ships for free.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 111\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feature\",\n        children: [/*#__PURE__*/_jsxDEV(FaRedoAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feature-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"30 Days Returns\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 77\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Product returns accepted within 30 days.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 101\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feature\",\n        children: [/*#__PURE__*/_jsxDEV(HiShieldCheck, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feature-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Top Quality Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 81\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"We always provide high quality products.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 110\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"category-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-grid-custom\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/category/Mobile%20Phone\",\n          className: \"category-card tall\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/category-accessories.jpg\",\n            alt: \"Sound System\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-text bottom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Brand New Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/category/Preowned%20Phones\",\n          className: \"category-card square\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/category-accessories.jpg\",\n            alt: \"Smart Watch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-text bottom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Pre Owned Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/category/Laptops\",\n          className: \"category-card square\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/category-accessories.jpg\",\n            alt: \"Tablet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-text bottom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Laptop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/category/Mobile%20Accessories\",\n          className: \"category-card wide\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/category-accessories.jpg\",\n            alt: \"Game Controller\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-text bottom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Mobile Accessories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product-section\",\n      ref: productSectionRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"heading-with-icon\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          ref: headingRef,\n          children: \"All Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FaSlidersH, {\n          className: \"filter-toggle-icon\",\n          onClick: () => setShowFilters(!showFilters),\n          title: \"Filter & Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-sort-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sort-select\",\n            children: \"Sort:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"sort-select\",\n            value: sort,\n            onChange: handleSortChange,\n            children: sortOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group price-range-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: priceRange[0],\n            onChange: e => handlePriceChange(e, 0),\n            className: \"price-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: priceRange[1],\n            onChange: e => handlePriceChange(e, 1),\n            className: \"price-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), allBrands.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group brand-filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"brand-select\",\n            children: \"Brand:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brand-dropdown-container\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"brand-select\",\n              value: brandFilter,\n              onChange: handleBrandChange,\n              className: \"brand-select-dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 21\n              }, this), allBrands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: brand,\n                children: brand\n              }, brand, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"stock-checkbox-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: inStockOnly,\n              onChange: handleStockChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), \" In Stock Only\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilters(false),\n          className: \"nav-info-button filter-done-button\",\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `product-grid-container ${animationDirection}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-grid\",\n          children: currentProducts.map(product => {\n            const imageUrl = generateImageUrl(product);\n            const fullPrice = product.price || 0;\n            const kokoTotal = fullPrice * 1.12;\n            const kokoInstallment = kokoTotal / 3;\n            return /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${product._id}`,\n              className: \"product-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: product.name,\n                onError: e => e.target.src = '/logo192.png'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: product.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"star-rating\",\n                children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: product.rating >= star ? '★' : '☆'\n                }, star, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"price\",\n                  children: [\"Rs. \", fullPrice.toLocaleString('en-LK', {\n                    minimumFractionDigits: 2\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), product.price && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"koko-pay\",\n                  children: [\"or pay in 3 \\xD7 Rs.\", \" \", kokoInstallment.toLocaleString(\"en-LK\", {\n                    minimumFractionDigits: 2\n                  }), \" \", \"with \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/koko.webp\",\n                    alt: \"Koko\",\n                    className: \"koko-logo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 30\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, product._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-dots\",\n        children: Array.from({\n          length: totalPages\n        }, (_, i) => i + 1).map(page => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `dot ${page === currentPage ? 'active' : ''}`,\n          onClick: () => handlePageChange(page),\n          title: `Page ${page}`\n        }, page, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(Homepage, \"vC18T95W9hiEaLjlp9xqrDEAh+Y=\");\n_c = Homepage;\nexport default Homepage;\nvar _c;\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Link","axios","FaShippingFast","FaRedoAlt","FaSlidersH","HiShieldCheck","Footer","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","Homepage","_s","products","setProducts","loading","setLoading","error","setError","currentPage","setCurrentPage","animationDirection","setAnimationDirection","showFilters","setShowFilters","productsPerPage","productSectionRef","headingRef","originalBannerImages","bannerImages","currentBannerIndex","setCurrentBannerIndex","isTransitioning","setIsTransitioning","sortOptions","value","label","sort","setSort","priceRange","setPriceRange","brandFilter","setBrandFilter","inStockOnly","setInStockOnly","fetchProducts","bannerInterval","setInterval","prevIndex","length","transitionEndHandler","setTimeout","bannerSlider","document","querySelector","addEventListener","clearInterval","removeEventListener","prices","map","p","price","Math","min","max","response","get","data","console","generateImageUrl","product","images","image","startsWith","replace","allBrands","Array","from","Set","_p$details","details","brand","filter","Boolean","filteredProducts","_product$details","matchesPrice","matchesBrand","matchesStock","stock","sortedProducts","a","b","Date","createdAt","indexOfLastProduct","indexOfFirstProduct","currentProducts","slice","totalPages","ceil","handlePageChange","pageNumber","direction","current","topPos","getBoundingClientRect","top","window","pageYOffset","offset","scrollTo","behavior","handleBrandChange","event","selectedBrand","target","handlePriceChange","e","idx","val","Number","pr","handleSortChange","handleStockChange","checked","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","transform","transition","index","src","alt","to","ref","onClick","title","htmlFor","id","onChange","opt","type","imageUrl","fullPrice","kokoTotal","kokoInstallment","_id","name","onError","description","star","rating","toLocaleString","minimumFractionDigits","_","i","page","_c","$RefreshReg$"],"sources":["/Users/rahmimuaz/Documents/GitHub/Evolexx/client/src/pages/Home/Homepage.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Homepage.css';\nimport axios from 'axios';\nimport { FaShippingFast, FaRedoAlt, FaSlidersH } from 'react-icons/fa';\nimport { HiShieldCheck } from 'react-icons/hi';\nimport Footer from '../../components/Footer/Footer';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\n\nconst Homepage = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [animationDirection, setAnimationDirection] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n\n  const productsPerPage = 12;\n  const productSectionRef = useRef(null);\n  const headingRef = useRef(null); \n\n  const originalBannerImages = ['/banner1.jpg', '/banner2.jpg', '/banner3.jpg'];\n  const bannerImages = [...originalBannerImages, originalBannerImages[0]];\n  const [currentBannerIndex, setCurrentBannerIndex] = useState(0);\n  const [isTransitioning, setIsTransitioning] = useState(true);\n\n  const sortOptions = [\n    { value: 'price-asc', label: 'Price: Low to High' },\n    { value: 'price-desc', label: 'Price: High to Low' },\n    { value: 'newest', label: 'Newest' },\n    { value: 'oldest', label: 'Oldest' },\n  ];\n  const [sort, setSort] = useState('price-asc');\n  const [priceRange, setPriceRange] = useState([0, 1000000]);\n  const [brandFilter, setBrandFilter] = useState('');\n  const [inStockOnly, setInStockOnly] = useState(false);\n\n  useEffect(() => {\n    fetchProducts();\n\n    const bannerInterval = setInterval(() => {\n      setIsTransitioning(true);\n      setCurrentBannerIndex((prevIndex) =>\n        prevIndex === bannerImages.length - 1 ? 0 : prevIndex + 1\n      );\n    }, 4000);\n\n    const transitionEndHandler = () => {\n      if (!isTransitioning && currentBannerIndex === 0) {\n        setTimeout(() => setIsTransitioning(true), 50);\n      }\n    };\n\n    const bannerSlider = document.querySelector('.banner-slider');\n    if (bannerSlider) {\n      bannerSlider.addEventListener('transitionend', transitionEndHandler);\n    }\n\n    return () => {\n      clearInterval(bannerInterval);\n      if (bannerSlider) {\n        bannerSlider.removeEventListener('transitionend', transitionEndHandler);\n      }\n    };\n  }, [bannerImages.length, isTransitioning, currentBannerIndex]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    if (products.length > 0) {\n      const prices = products.map(p => p.price || 0);\n      setPriceRange([Math.min(...prices), Math.max(...prices)]);\n    }\n  }, [products]);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/products`);\n      setProducts(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setError('Error fetching products. Please try again later.');\n      setLoading(false);\n    }\n  };\n\n  const generateImageUrl = (product) => {\n    if (product.images && product.images.length > 0) {\n      const image = product.images[0];\n      if (image.startsWith('http')) return image;\n      if (image.startsWith('/uploads/')) return `${API_BASE_URL}${image}`;\n      if (image.startsWith('uploads/')) return `${API_BASE_URL}/${image}`;\n      return `${API_BASE_URL}/uploads/${image.replace(/^\\//, '')}`;\n    }\n    return '/logo192.png';\n  };\n\n  const allBrands = Array.from(new Set(products.map(p => p.details?.brand).filter(Boolean)));\n\n  const filteredProducts = products.filter(product => {\n    const price = product.price || 0;\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesBrand = !brandFilter || product.details?.brand === brandFilter;\n    const matchesStock = !inStockOnly || (product.stock && product.stock > 0);\n    return matchesPrice && matchesBrand && matchesStock;\n  });\n\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sort === 'price-asc') return (a.price || 0) - (b.price || 0);\n    if (sort === 'price-desc') return (b.price || 0) - (a.price || 0);\n    if (sort === 'newest') return new Date(b.createdAt) - new Date(a.createdAt);\n    if (sort === 'oldest') return new Date(a.createdAt) - new Date(b.createdAt);\n    return 0;\n  });\n\n  const indexOfLastProduct = currentPage * productsPerPage;\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n  const currentProducts = sortedProducts.slice(indexOfFirstProduct, indexOfLastProduct);\n  const totalPages = Math.ceil(sortedProducts.length / productsPerPage);\n\n  const handlePageChange = (pageNumber) => {\n    if (pageNumber >= 1 && pageNumber <= totalPages && pageNumber !== currentPage) {\n      const direction = pageNumber > currentPage ? 'slide-left' : 'slide-right';\n      setAnimationDirection(direction);\n\n      setTimeout(() => {\n        setCurrentPage(pageNumber);\n        setAnimationDirection('');\n\n        if (headingRef.current) {\n          const topPos = headingRef.current.getBoundingClientRect().top + window.pageYOffset;\n          const offset = 80;\n          window.scrollTo({ top: topPos - offset, behavior: 'smooth' });\n        }\n      }, 400);\n    }\n  };\n\n  const handleBrandChange = (event) => {\n    const selectedBrand = event.target.value;\n    setBrandFilter(selectedBrand);\n    setCurrentPage(1);\n  };\n\n  const handlePriceChange = (e, idx) => {\n    const val = Number(e.target.value);\n    setPriceRange(pr => idx === 0 ? [val, pr[1]] : [pr[0], val]);\n    setCurrentPage(1);\n  };\n\n  const handleSortChange = (e) => {\n    setSort(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handleStockChange = (e) => {\n    setInStockOnly(e.target.checked);\n    setCurrentPage(1);\n  };\n\n  if (loading) return <div className=\"loader\">Loading products...</div>;\n  if (error) return <div className=\"error\">{error}</div>;\n\n  return (\n    <div className=\"home\">\n      <section className=\"banner\">\n        <div\n          className=\"banner-slider\"\n          style={{\n            transform: `translateX(-${currentBannerIndex * 100}%)`,\n            transition: isTransitioning ? 'transform 1s ease-in-out' : 'none',\n          }}\n        >\n          {bannerImages.map((image, index) => (\n            <img key={index} src={image} alt={`Hero Banner ${index + 1}`} className=\"banner-image\" />\n          ))}\n        </div>\n      </section>\n\n      <section className=\"features\">\n        <div className=\"feature\"><FaShippingFast /><div className=\"feature-text\"><h3>Fast & Free Shipping</h3><p>Every single order ships for free.</p></div></div>\n        <div className=\"feature\"><FaRedoAlt /><div className=\"feature-text\"><h3>30 Days Returns</h3><p>Product returns accepted within 30 days.</p></div></div>\n        <div className=\"feature\"><HiShieldCheck /><div className=\"feature-text\"><h3>Top Quality Products</h3><p>We always provide high quality products.</p></div></div>\n      </section>\n\n      <section className=\"category-section\">\n        <div className=\"category-grid-custom\">\n          <Link to=\"/category/Mobile%20Phone\" className=\"category-card tall\">\n            <img src=\"/category-accessories.jpg\" alt=\"Sound System\" />\n            <div className=\"overlay-text bottom\"><p>Brand New Phone</p></div>\n          </Link>\n          <Link to=\"/category/Preowned%20Phones\" className=\"category-card square\">\n            <img src=\"/category-accessories.jpg\" alt=\"Smart Watch\" />\n            <div className=\"overlay-text bottom\"><p>Pre Owned Phone</p></div>\n          </Link>\n          <Link to=\"/category/Laptops\" className=\"category-card square\">\n            <img src=\"/category-accessories.jpg\" alt=\"Tablet\" />\n            <div className=\"overlay-text bottom\"><p>Laptop</p></div>\n          </Link>\n          <Link to=\"/category/Mobile%20Accessories\" className=\"category-card wide\">\n            <img src=\"/category-accessories.jpg\" alt=\"Game Controller\" />\n            <div className=\"overlay-text bottom\"><p>Mobile Accessories</p></div>\n          </Link>\n        </div>\n      </section>\n\n      <section className=\"product-section\" ref={productSectionRef}>\n        <div className=\"heading-with-icon\">\n          <h2 ref={headingRef}>All Products</h2>\n          <FaSlidersH\n            className=\"filter-toggle-icon\"\n            onClick={() => setShowFilters(!showFilters)}\n            title=\"Filter & Sort\"\n          />\n        </div>\n\n        {showFilters && (\n          <div className=\"filter-sort-bar\">\n            <div className=\"filter-group\">\n              <label htmlFor=\"sort-select\">Sort:</label>\n              <select id=\"sort-select\" value={sort} onChange={handleSortChange}>\n                {sortOptions.map(opt => (\n                  <option key={opt.value} value={opt.value}>{opt.label}</option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"filter-group price-range-group\">\n              <label>Price:</label>\n              <input type=\"number\" min=\"0\" value={priceRange[0]} onChange={e => handlePriceChange(e, 0)} className=\"price-input\" />\n              <span>-</span>\n              <input type=\"number\" min=\"0\" value={priceRange[1]} onChange={e => handlePriceChange(e, 1)} className=\"price-input\" />\n            </div>\n\n            {allBrands.length > 0 && (\n              <div className=\"filter-group brand-filter-group\">\n                <label htmlFor=\"brand-select\">Brand:</label>\n                <div className=\"brand-dropdown-container\">\n                  <select\n                    id=\"brand-select\"\n                    value={brandFilter}\n                    onChange={handleBrandChange}\n                    className=\"brand-select-dropdown\"\n                  >\n                    <option value=\"\">All</option>\n                    {allBrands.map(brand => (\n                      <option key={brand} value={brand}>{brand}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            )}\n\n            <div className=\"filter-group\">\n              <label className=\"stock-checkbox-label\">\n                <input type=\"checkbox\" checked={inStockOnly} onChange={handleStockChange} /> In Stock Only\n              </label>\n            </div>\n\n            <button onClick={() => setShowFilters(false)} className=\"nav-info-button filter-done-button\">Done</button>\n          </div>\n        )}\n\n        <div className={`product-grid-container ${animationDirection}`}>\n          <div className=\"product-grid\">\n            {currentProducts.map((product) => {\n              const imageUrl = generateImageUrl(product);\n              const fullPrice = product.price || 0;\n              const kokoTotal = fullPrice * 1.12;\n              const kokoInstallment = kokoTotal / 3;\n\n              return (\n                <Link to={`/products/${product._id}`} className=\"product-card\" key={product._id}>\n                  <img src={imageUrl} alt={product.name} onError={(e) => (e.target.src = '/logo192.png')} />\n                  <h3>{product.name}</h3>\n                  <p>{product.description}</p>\n                  <div className=\"star-rating\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <span key={star}>{product.rating >= star ? '★' : '☆'}</span>\n                    ))}\n                  </div>\n                  <div className=\"card-footer\">\n                    <p className=\"price\">\n                      Rs. {fullPrice.toLocaleString('en-LK', { minimumFractionDigits: 2 })}\n                    </p>\n                    {product.price && (\n                      <p className=\"koko-pay\">\n                        or pay in 3 × Rs.{\" \"}\n                        {kokoInstallment.toLocaleString(\"en-LK\", { minimumFractionDigits: 2 })}{\" \"}\n                        with <img src=\"/koko.webp\" alt=\"Koko\" className=\"koko-logo\" />\n                      </p>\n                    )}\n                  </div>\n                </Link>\n              );\n            })}\n          </div>\n        </div>\n\n        <div className=\"pagination-dots\">\n          {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\n            <div\n              key={page}\n              className={`dot ${page === currentPage ? 'active' : ''}`}\n              onClick={() => handlePageChange(page)}\n              title={`Page ${page}`}\n            ></div>\n          ))}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Homepage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}