{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import'../Home/Homepage.css';import{FaBars}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const PRODUCTS_PER_PAGE=8;const sortOptions=[{value:'price-asc',label:'Price: Low to High'},{value:'price-desc',label:'Price: High to Low'},{value:'newest',label:'Newest'},{value:'oldest',label:'Oldest'}];const CategoryPage=()=>{const{category}=useParams();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[currentPage,setCurrentPage]=useState(1);const[sort,setSort]=useState('price-asc');const[priceRange,setPriceRange]=useState([0,1000000]);const[brandFilter,setBrandFilter]=useState([]);const[inStockOnly,setInStockOnly]=useState(false);const[showFilterBar,setShowFilterBar]=useState(false);useEffect(()=>{setLoading(true);fetch(\"\".concat(API_BASE_URL,\"/api/products/category/\").concat(encodeURIComponent(category))).then(res=>res.json()).then(data=>{setProducts(data);setCurrentPage(1);if(data.length>0){const prices=data.map(p=>p.price||0);setPriceRange([Math.min(...prices),Math.max(...prices)]);}}).finally(()=>setLoading(false));},[category]);const generateImageUrl=product=>product.images&&product.images.length>0?product.images[0]:'/logo192.png';const allBrands=Array.from(new Set(products.map(p=>{var _p$details;return(_p$details=p.details)===null||_p$details===void 0?void 0:_p$details.brand;}).filter(Boolean)));const filteredProducts=products.filter(product=>{var _product$details;const price=product.price||0;const matchesPrice=price>=priceRange[0]&&price<=priceRange[1];const matchesBrand=brandFilter.length===0||brandFilter.includes((_product$details=product.details)===null||_product$details===void 0?void 0:_product$details.brand);const matchesStock=!inStockOnly||product.stock&&product.stock>0;return matchesPrice&&matchesBrand&&matchesStock;});const sortedProducts=[...filteredProducts].sort((a,b)=>{if(sort==='price-asc')return(a.price||0)-(b.price||0);if(sort==='price-desc')return(b.price||0)-(a.price||0);if(sort==='newest')return new Date(b.createdAt)-new Date(a.createdAt);if(sort==='oldest')return new Date(a.createdAt)-new Date(b.createdAt);return 0;});const totalPages=Math.ceil(sortedProducts.length/PRODUCTS_PER_PAGE);const startIdx=(currentPage-1)*PRODUCTS_PER_PAGE;const currentProducts=sortedProducts.slice(startIdx,startIdx+PRODUCTS_PER_PAGE);const handleBrandChange=brand=>{setBrandFilter(prev=>prev.includes(brand)?prev.filter(b=>b!==brand):[...prev,brand]);setCurrentPage(1);};const handlePriceChange=(e,idx)=>{const val=Number(e.target.value);setPriceRange(pr=>idx===0?[val,pr[1]]:[pr[0],val]);setCurrentPage(1);};const handleSortChange=e=>{setSort(e.target.value);setCurrentPage(1);};const handleStockChange=e=>{setInStockOnly(e.target.checked);setCurrentPage(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-section\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'60px'},children:category}),/*#__PURE__*/_jsx(FaBars,{onClick:()=>setShowFilterBar(!showFilterBar),style:{cursor:'pointer',fontSize:'1.5rem'},title:\"Toggle Filters\"})]}),showFilterBar&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-sort-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sort:\\xA0\"}),/*#__PURE__*/_jsx(\"select\",{value:sort,onChange:handleSortChange,children:sortOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.value,children:opt.label},opt.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price:\\xA0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:priceRange[0],onChange:e=>handlePriceChange(e,0),style:{width:70}}),\"\\xA0-\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:priceRange[1],onChange:e=>handlePriceChange(e,1),style:{width:70}})]}),allBrands.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Brand:\\xA0\"}),allBrands.map(brand=>/*#__PURE__*/_jsxs(\"label\",{className:\"brand-checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:brandFilter.includes(brand),onChange:()=>handleBrandChange(brand)}),\"\\xA0\",brand]},brand))]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:inStockOnly,onChange:handleStockChange}),\" In Stock Only\"]})})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:currentProducts.map(product=>{const imageUrl=generateImageUrl(product);const fullPrice=product.price||0;const kokoTotal=fullPrice*1.12;const kokoInstallment=kokoTotal/3;return/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product._id),className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:product.name,onError:e=>e.target.src='/logo192.png'}),/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsx(\"div\",{className:\"star-rating\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(\"span\",{children:product.rating>=star?'★':'☆'},star))}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"Rs. \",fullPrice.toLocaleString('en-LK',{minimumFractionDigits:2})]}),product.price&&/*#__PURE__*/_jsxs(\"p\",{className:\"koko-pay\",children:[\"or pay in 3 \\xD7 Rs.\",' ',kokoInstallment.toLocaleString('en-LK',{minimumFractionDigits:2}),' ',\"with \",/*#__PURE__*/_jsx(\"img\",{src:\"/koko.webp\",alt:\"Koko\",className:\"koko-logo\"})]})]})]},product._id);})}),totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"pagination-dots\",children:Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(\"div\",{className:\"dot \".concat(page===currentPage?'active':''),onClick:()=>setCurrentPage(page),title:\"Page \".concat(page)},page))})]})]});};export default CategoryPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","FaBars","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","PRODUCTS_PER_PAGE","sortOptions","value","label","CategoryPage","category","products","setProducts","loading","setLoading","currentPage","setCurrentPage","sort","setSort","priceRange","setPriceRange","brandFilter","setBrandFilter","inStockOnly","setInStockOnly","showFilterBar","setShowFilterBar","fetch","concat","encodeURIComponent","then","res","json","data","length","prices","map","p","price","Math","min","max","finally","generateImageUrl","product","images","allBrands","Array","from","Set","_p$details","details","brand","filter","Boolean","filteredProducts","_product$details","matchesPrice","matchesBrand","includes","matchesStock","stock","sortedProducts","a","b","Date","createdAt","totalPages","ceil","startIdx","currentProducts","slice","handleBrandChange","prev","handlePriceChange","e","idx","val","Number","target","pr","handleSortChange","handleStockChange","checked","className","children","style","display","justifyContent","alignItems","marginBottom","onClick","cursor","fontSize","title","onChange","opt","type","width","imageUrl","fullPrice","kokoTotal","kokoInstallment","to","_id","src","alt","name","onError","description","star","rating","toLocaleString","minimumFractionDigits","_","i","page"],"sources":["/Users/rahmimuaz/Downloads/Evolexx-inventory 3/client/src/pages/Category/CategoryPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport '../Home/Homepage.css';\nimport { FaBars } from 'react-icons/fa';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst PRODUCTS_PER_PAGE = 8;\n\nconst sortOptions = [\n  { value: 'price-asc', label: 'Price: Low to High' },\n  { value: 'price-desc', label: 'Price: High to Low' },\n  { value: 'newest', label: 'Newest' },\n  { value: 'oldest', label: 'Oldest' },\n];\n\nconst CategoryPage = () => {\n  const { category } = useParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sort, setSort] = useState('price-asc');\n  const [priceRange, setPriceRange] = useState([0, 1000000]);\n  const [brandFilter, setBrandFilter] = useState([]);\n  const [inStockOnly, setInStockOnly] = useState(false);\n  const [showFilterBar, setShowFilterBar] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(`${API_BASE_URL}/api/products/category/${encodeURIComponent(category)}`)\n      .then(res => res.json())\n      .then(data => {\n        setProducts(data);\n        setCurrentPage(1);\n        if (data.length > 0) {\n          const prices = data.map(p => p.price || 0);\n          setPriceRange([Math.min(...prices), Math.max(...prices)]);\n        }\n      })\n      .finally(() => setLoading(false));\n  }, [category]);\n\n  const generateImageUrl = (product) =>\n    product.images && product.images.length > 0 ? product.images[0] : '/logo192.png';\n\n  const allBrands = Array.from(new Set(products.map(p => p.details?.brand).filter(Boolean)));\n\n  const filteredProducts = products.filter(product => {\n    const price = product.price || 0;\n    const matchesPrice = price >= priceRange[0] && price <= priceRange[1];\n    const matchesBrand = brandFilter.length === 0 || brandFilter.includes(product.details?.brand);\n    const matchesStock = !inStockOnly || (product.stock && product.stock > 0);\n    return matchesPrice && matchesBrand && matchesStock;\n  });\n\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sort === 'price-asc') return (a.price || 0) - (b.price || 0);\n    if (sort === 'price-desc') return (b.price || 0) - (a.price || 0);\n    if (sort === 'newest') return new Date(b.createdAt) - new Date(a.createdAt);\n    if (sort === 'oldest') return new Date(a.createdAt) - new Date(b.createdAt);\n    return 0;\n  });\n\n  const totalPages = Math.ceil(sortedProducts.length / PRODUCTS_PER_PAGE);\n  const startIdx = (currentPage - 1) * PRODUCTS_PER_PAGE;\n  const currentProducts = sortedProducts.slice(startIdx, startIdx + PRODUCTS_PER_PAGE);\n\n  const handleBrandChange = (brand) => {\n    setBrandFilter(prev =>\n      prev.includes(brand) ? prev.filter(b => b !== brand) : [...prev, brand]\n    );\n    setCurrentPage(1);\n  };\n\n  const handlePriceChange = (e, idx) => {\n    const val = Number(e.target.value);\n    setPriceRange(pr => idx === 0 ? [val, pr[1]] : [pr[0], val]);\n    setCurrentPage(1);\n  };\n\n  const handleSortChange = (e) => {\n    setSort(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handleStockChange = (e) => {\n    setInStockOnly(e.target.checked);\n    setCurrentPage(1);\n  };\n\n  return (\n    <div className=\"product-section\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2 style={{ marginBottom: '60px' }}>{category}</h2>\n        <FaBars\n          onClick={() => setShowFilterBar(!showFilterBar)}\n          style={{ cursor: 'pointer', fontSize: '1.5rem' }}\n          title=\"Toggle Filters\"\n        />\n      </div>\n\n      {/* FILTER & SORT BAR */}\n      {showFilterBar && (\n        <div className=\"filter-sort-bar\">\n          {/* Sort */}\n          <div>\n            <label>Sort:&nbsp;</label>\n            <select value={sort} onChange={handleSortChange}>\n              {sortOptions.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n              ))}\n            </select>\n          </div>\n          {/* Price Range */}\n          <div>\n            <label>Price:&nbsp;</label>\n            <input type=\"number\" min=\"0\" value={priceRange[0]} onChange={e => handlePriceChange(e, 0)} style={{ width: 70 }} />\n            &nbsp;-&nbsp;\n            <input type=\"number\" min=\"0\" value={priceRange[1]} onChange={e => handlePriceChange(e, 1)} style={{ width: 70 }} />\n          </div>\n          {/* Brand Filter */}\n          {allBrands.length > 0 && (\n            <div>\n              <label>Brand:&nbsp;</label>\n              {allBrands.map(brand => (\n                <label key={brand} className=\"brand-checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    checked={brandFilter.includes(brand)}\n                    onChange={() => handleBrandChange(brand)}\n                  />\n                  &nbsp;{brand}\n                </label>\n              ))}\n            </div>\n          )}\n          {/* In Stock Only */}\n          <div>\n            <label>\n              <input type=\"checkbox\" checked={inStockOnly} onChange={handleStockChange} /> In Stock Only\n            </label>\n          </div>\n        </div>\n      )}\n\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <>\n          <div className=\"product-grid\">\n            {currentProducts.map((product) => {\n              const imageUrl = generateImageUrl(product);\n              const fullPrice = product.price || 0;\n              const kokoTotal = fullPrice * 1.12;\n              const kokoInstallment = kokoTotal / 3;\n\n              return (\n                <Link to={`/products/${product._id}`} className=\"product-card\" key={product._id}>\n                  <img src={imageUrl} alt={product.name} onError={e => (e.target.src = '/logo192.png')} />\n                  <h3>{product.name}</h3>\n                  <p>{product.description}</p>\n                  <div className=\"star-rating\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <span key={star}>{product.rating >= star ? '★' : '☆'}</span>\n                    ))}\n                  </div>\n                  <div className=\"card-footer\">\n                    <p className=\"price\">\n                      Rs. {fullPrice.toLocaleString('en-LK', { minimumFractionDigits: 2 })}\n                    </p>\n                    {product.price && (\n                      <p className=\"koko-pay\">\n                        or pay in 3 × Rs.{' '}\n                        {kokoInstallment.toLocaleString('en-LK', { minimumFractionDigits: 2 })}{' '}\n                        with <img src=\"/koko.webp\" alt=\"Koko\" className=\"koko-logo\" />\n                      </p>\n                    )}\n                  </div>\n                </Link>\n              );\n            })}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"pagination-dots\">\n              {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\n                <div\n                  key={page}\n                  className={`dot ${page === currentPage ? 'active' : ''}`}\n                  onClick={() => setCurrentPage(page)}\n                  title={`Page ${page}`}\n                ></div>\n              ))}\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CategoryPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}